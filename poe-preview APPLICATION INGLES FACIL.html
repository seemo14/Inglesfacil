<!DOCTYPE html><html lang="es"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inglés Fácil 123 - Interactive Learning</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&amp;family=Poppins:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#4a6fa5',
                            hover: '#3d5d8a',
                        },
                        secondary: {
                            DEFAULT: '#ff6b6b',
                            hover: '#ff5252',
                        },
                        accent: '#ffd166',
                        dark: '#2c3e50',
                        light: '#f8f9fa',
                        success: '#6bd490',
                    },
                    fontFamily: {
                        main: ['Poppins', 'sans-serif'],
                        heading: ['Montserrat', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        /* Base styles */
        .tab-button.active {
            color: #ff6b6b;
            border-bottom: 2px solid #ff6b6b;
        }

        .lesson-card {
            transform: translateY(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Swipe container */
        .swipe-container {
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        .swipe-cards {
            display: flex;
            transition: transform 0.5s ease;
        }

        .swipe-card {
            min-width: 100%;
            padding: 1rem;
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .progress-bar {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, #4a6fa5 0%, #7e57c2 100%);
            transition: width 0.3s ease;
        }

        /* VIP badge */
        .vip-badge {
            background: linear-gradient(45deg, #ffd166, #ff6b6b);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
        }

        /* Dark mode support */
        .dark body {
            background-color: #181818;
            color: #f8f9fa;
        }

        .dark .card {
            background-color: #2c3e50;
        }

        .dark .nav-bar, .dark .tab-bar {
            background-color: #2c3e50;
            color: #f8f9fa;
        }

        .dark .progress-container {
            background-color: #3d4852;
        }

        /* Animation for cards */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .quiz-option {
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-option:hover {
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background-color: rgba(107, 212, 144, 0.2);
            border-color: #6bd490;
        }

        .quiz-option.incorrect {
            background-color: rgba(255, 107, 107, 0.2);
            border-color: #ff6b6b;
        }

        .shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .dark .shimmer {
            background: linear-gradient(90deg, 
                rgba(50,50,50,0) 0%, 
                rgba(50,50,50,0.2) 50%, 
                rgba(50,50,50,0) 100%);
            background-size: 200% 100%;
        }
    </style>
</head>
<body class="font-main bg-light dark:bg-gray-900 text-dark dark:text-light min-h-screen flex flex-col">
    <!-- Top navigation -->
    <nav class="nav-bar sticky top-0 bg-white dark:bg-gray-800 shadow-md z-10">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <h1 class="text-xl font-heading font-bold text-primary dark:text-white">Inglés Fácil 123</h1>
            </div>
            <div class="flex items-center">
                <button id="toggleTheme" class="p-2 text-dark dark:text-light">
                    <i class="fas fa-moon dark:hidden"></i>
                    <i class="fas fa-sun hidden dark:block"></i>
                </button>
                <button id="toggleProfile" class="ml-3 w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center">
                    <i class="fas fa-user text-sm"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main content area -->
    <main class="flex-1">
        <div id="appContent" class="container mx-auto px-4 py-6">
            <!-- Content will be loaded here -->
        </div>
    </main>

    <!-- Bottom tab navigation -->
    <div class="tab-bar sticky bottom-0 bg-white dark:bg-gray-800 shadow-lg z-10">
        <div class="container mx-auto px-4">
            <div class="flex justify-between py-3">
                <button class="tab-button flex flex-col items-center flex-1 pt-1 active" data-tab="home">
                    <i class="fas fa-home text-lg"></i>
                    <span class="text-xs mt-1">Inicio</span>
                </button>
                <button class="tab-button flex flex-col items-center flex-1 pt-1" data-tab="learn">
                    <i class="fas fa-graduation-cap text-lg"></i>
                    <span class="text-xs mt-1">Aprender</span>
                </button>
                <button class="tab-button flex flex-col items-center flex-1 pt-1" data-tab="practice">
                    <i class="fas fa-microphone-alt text-lg"></i>
                    <span class="text-xs mt-1">Practicar</span>
                </button>
                <button class="tab-button flex flex-col items-center flex-1 pt-1" data-tab="community">
                    <i class="fas fa-users text-lg"></i>
                    <span class="text-xs mt-1">Comunidad</span>
                </button>
                <button class="tab-button flex flex-col items-center flex-1 pt-1" data-tab="store">
                    <i class="fas fa-book text-lg"></i>
                    <span class="text-xs mt-1">Recursos</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-heading font-bold">Iniciar Sesión</h2>
                <button class="close-modal text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1" for="email">Email</label>
                    <input id="email" type="email" class="w-full p-3 border rounded-lg text-base" placeholder="tu@email.com">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1" for="password">Contraseña</label>
                    <input id="password" type="password" class="w-full p-3 border rounded-lg text-base" placeholder="********">
                </div>
                <div class="flex justify-between items-center">
                    <label class="flex items-center">
                        <input type="checkbox" class="mr-2">
                        <span class="text-sm">Recordarme</span>
                    </label>
                    <a href="#" class="text-sm text-primary">¿Olvidaste tu contraseña?</a>
                </div>
                <button id="loginButton" class="w-full bg-primary hover:bg-primary-hover text-white py-3 rounded-lg font-medium transition">
                    Iniciar Sesión
                </button>
                <div class="relative flex items-center justify-center mt-4">
                    <div class="border-t border-gray-300 absolute w-full"></div>
                    <div class="bg-white dark:bg-gray-800 px-4 z-10 text-sm text-gray-500">o</div>
                </div>
                <button class="w-full border border-gray-300 py-3 rounded-lg font-medium flex items-center justify-center">
                    <i class="fab fa-instagram mr-2"></i> Continuar con Instagram
                </button>
                <p class="text-center text-sm mt-4">
                    ¿No tienes una cuenta? <a href="#" id="showSignup" class="text-primary font-medium">Regístrate</a>
                </p>
            </div>
        </div>
    </div>

    <div id="subscriptionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-heading font-bold">Únete a Inglés VIP Club</h2>
                <button class="close-modal text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-6">
                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-heading font-semibold">Plan Básico</h3>
                        <span class="font-bold text-primary">$5/mes</span>
                    </div>
                    <ul class="space-y-2 text-sm mb-3">
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Contenido exclusivo semanal</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Biblioteca de PDF descargables</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Acceso a historias exclusivas</li>
                    </ul>
                    <button class="w-full py-2 bg-primary hover:bg-primary-hover text-white rounded font-medium">Seleccionar</button>
                </div>
                
                <div class="relative border border-primary rounded-lg p-4 hover:shadow-md transition cursor-pointer">
                    <div class="absolute -top-3 right-3 bg-secondary px-3 py-1 rounded-full text-white text-xs font-bold">
                        POPULAR
                    </div>
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-heading font-semibold">Plan Premium</h3>
                        <span class="font-bold text-primary">$15/mes</span>
                    </div>
                    <ul class="space-y-2 text-sm mb-3">
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Todos los beneficios del plan básico</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Sesiones mensuales de práctica grupal</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Plan de aprendizaje personalizado</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Respuestas directas a tus preguntas</li>
                    </ul>
                    <button class="w-full py-2 bg-secondary hover:bg-secondary-hover text-white rounded font-medium">Seleccionar</button>
                </div>
                
                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-heading font-semibold">Plan Elite</h3>
                        <span class="font-bold text-primary">$40/mes</span>
                    </div>
                    <ul class="space-y-2 text-sm mb-3">
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Todos los beneficios del plan premium</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Sesión mensual individual (30 min)</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Feedback prioritario en pronunciación</li>
                        <li class="flex items-center"><i class="fas fa-check text-success mr-2"></i> Contenido personalizado según necesidades</li>
                    </ul>
                    <button class="w-full py-2 bg-primary hover:bg-primary-hover text-white rounded font-medium">Seleccionar</button>
                </div>
                
                <p class="text-center text-sm mt-4">
                    ¿Tienes preguntas? <a href="#contact" class="text-primary font-medium">Contáctanos</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white dark:bg-gray-900 bg-opacity-90 dark:bg-opacity-90 flex flex-col items-center justify-center z-50 hidden">
        <div class="w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>
        <p class="mt-4 text-lg font-medium" id="loadingText">Cargando...</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Dark mode detection and toggle
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }
            
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            });
            
            document.getElementById('toggleTheme').addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
            });

            // Tab navigation
            const tabButtons = document.querySelectorAll('.tab-button');
            const appContent = document.getElementById('appContent');
            
            function setActiveTab(tab) {
                tabButtons.forEach(button => {
                    if (button.dataset.tab === tab) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });
                
                loadTabContent(tab);
            }
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tab = this.dataset.tab;
                    setActiveTab(tab);
                });
            });

            // User login/register and profile management
            let isLoggedIn = false;
            let userProfile = null;
            
            document.getElementById('toggleProfile').addEventListener('click', function() {
                if (!isLoggedIn) {
                    document.getElementById('loginModal').classList.remove('hidden');
                } else {
                    // Show profile or logout options
                    alert('Esta funcionalidad estará disponible pronto.');
                }
            });
            
            document.querySelectorAll('.close-modal').forEach(button => {
                button.addEventListener('click', function() {
                    this.closest('.fixed').classList.add('hidden');
                });
            });
            
            document.getElementById('loginButton').addEventListener('click', function() {
                showLoading('Iniciando sesión...');
                
                // Simulate login
                setTimeout(() => {
                    isLoggedIn = true;
                    userProfile = {
                        name: 'Usuario',
                        email: document.getElementById('email').value,
                        membership: 'free'
                    };
                    document.getElementById('loginModal').classList.add('hidden');
                    hideLoading();
                    updateUIForLoggedInUser();
                }, 1500);
            });

            function updateUIForLoggedInUser() {
                // Update profile button
                const profileButton = document.getElementById('toggleProfile');
                profileButton.innerHTML = '<span class="font-bold text-sm">' + userProfile.name.charAt(0) + '</span>';
                profileButton.classList.add('bg-primary', 'text-white');
                
                // Refresh current tab content
                const activeTab = document.querySelector('.tab-button.active').dataset.tab;
                loadTabContent(activeTab);
            }

            // Main content loading functions
            function loadTabContent(tab) {
                showLoading('Cargando contenido...');
                
                // Clear current content
                appContent.innerHTML = '';
                
                switch(tab) {
                    case 'home':
                        loadHomeContent();
                        break;
                    case 'learn':
                        loadLearnContent();
                        break;
                    case 'practice':
                        loadPracticeContent();
                        break;
                    case 'community':
                        loadCommunityContent();
                        break;
                    case 'store':
                        loadStoreContent();
                        break;
                    default:
                        loadHomeContent();
                }
                
                setTimeout(() => {
                    hideLoading();
                    // Add animation to new content
                    appContent.querySelectorAll('.animate-on-load').forEach((el, index) => {
                        el.classList.add('fade-in');
                        el.style.animationDelay = (index * 0.1) + 's';
                    });
                }, 500);
            }
            
            function showLoading(text = 'Cargando...') {
                document.getElementById('loadingText').textContent = text;
                document.getElementById('loadingOverlay').classList.remove('hidden');
            }
            
            function hideLoading() {
                document.getElementById('loadingOverlay').classList.add('hidden');
            }

            // Home tab content
            function loadHomeContent() {
                const content = `
                    <div class="mb-5 animate-on-load">
                        <h2 class="text-2xl font-heading font-bold mb-4">¡Bienvenido a Inglés Fácil 123!</h2>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 35%"></div>
                        </div>
                        <p class="text-sm font-medium">Has completado 7 de 20 lecciones esta semana. ¡Sigue así!</p>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <h3 class="text-lg font-heading font-semibold mb-3">Continuar Aprendiendo</h3>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-4 border-l-4 border-primary">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h4 class="font-medium mb-1">Frases de Películas Famosas</h4>
                                    <div class="progress-container h-2">
                                        <div class="progress-bar" style="width: 60%"></div>
                                    </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">3 de 5 completadas</p>
                                </div>
                                <button class="bg-primary text-white rounded-full w-10 h-10 flex items-center justify-center">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Lecciones Diarias</h3>
                            <a href="#" class="text-primary text-sm">Ver todos</a>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <span class="inline-block px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-semibold rounded mb-2">NUEVO</span>
                                <h4 class="font-medium mb-2">¿Cuántas Palabras Conoces?</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Aprende vocabulario esencial para viajeros</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-gray-500"><i class="far fa-clock mr-1"></i> 5 min</span>
                                    <button class="text-primary hover:text-primary-hover">
                                        <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <span class="inline-block px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs font-semibold rounded mb-2">POPULAR</span>
                                <h4 class="font-medium mb-2">Falsos Amigos</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Evita estos errores comunes de los hispanohablantes</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-gray-500"><i class="far fa-clock mr-1"></i> 7 min</span>
                                    <button class="text-primary hover:text-primary-hover">
                                        <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-5 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Retos de la Comunidad</h3>
                            <a href="#" class="text-primary text-sm">Ver todos</a>
                        </div>
                        <div class="bg-gradient-to-r from-primary to-purple-600 text-white rounded-lg p-4">
                            <h4 class="font-medium mb-2">Reto de la Semana: Trabalenguas</h4>
                            <p class="text-sm mb-3">Grábate diciendo "She sells seashells by the seashore" tres veces seguidas</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xs opacity-80"><i class="fas fa-users mr-1"></i> 356 participantes</span>
                                <button class="bg-white text-primary hover:bg-gray-100 font-medium rounded-full px-4 py-1 text-sm">
                                    Participar
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-5 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Recursos Populares</h3>
                            <a href="#" class="text-primary text-sm">Ver todos</a>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-accent rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-plane text-dark text-xl"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium mb-1">Guía de Viaje en Inglés</h4>
                                        <p class="text-xs text-gray-500 mb-1">PDF Descargable</p>
                                        <div class="flex items-center">
                                            <span class="font-bold mr-2 text-primary">$9.99</span>
                                            <span class="text-xs px-2 py-1 bg-green-100 text-green-800 rounded">Bestseller</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-secondary rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-film text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium mb-1">Inglés de Películas</h4>
                                        <p class="text-xs text-gray-500 mb-1">Colección Digital</p>
                                        <div class="flex items-center">
                                            <span class="font-bold mr-2 text-primary">$14.99</span>
                                            <span class="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded">Nuevo</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="animate-on-load">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-5 text-center border border-primary">
                            <h3 class="font-heading font-bold text-lg mb-2">¿Listo para llevar tu inglés al siguiente nivel?</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">Únete a nuestro club VIP y accede a contenido exclusivo, feedback personalizado y mucho más.</p>
                            <button id="showSubscriptionModal" class="bg-primary hover:bg-primary-hover text-white px-5 py-2 rounded-lg font-medium transition">
                                Explorar Membresía VIP
                            </button>
                        </div>
                    </div>
                `;
                
                appContent.innerHTML = content;
                
                // Add event listeners for the new content
                document.getElementById('showSubscriptionModal').addEventListener('click', function() {
                    document.getElementById('subscriptionModal').classList.remove('hidden');
                });
            }

            // Learn tab content
            function loadLearnContent() {
                const content = `
                    <div class="mb-5 animate-on-load">
                        <h2 class="text-2xl font-heading font-bold mb-4">Aprende Inglés</h2>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-6">
                            <div class="flex overflow-x-auto" id="categoryTabs">
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium border-b-2 border-primary">Todos</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Vocabulario</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Películas</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Pronunciación</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Viajes</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Vida Diaria</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="grid grid-cols-1 gap-4">
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4" id="vocabularyLesson">
                                <span class="inline-block px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-semibold rounded mb-2">VOCABULARIO</span>
                                <h4 class="font-medium mb-2">¿Cuántas Palabras Conoces?</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Aprende palabras esenciales para viajeros y pon a prueba tu memoria.</p>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-xs text-gray-500 mr-3"><i class="far fa-clock mr-1"></i> 5 min</span>
                                        <span class="text-xs text-gray-500"><i class="far fa-user mr-1"></i> 2.4k estudiantes</span>
                                    </div>
                                    <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                        Empezar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <span class="inline-block px-2 py-1 bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200 text-xs font-semibold rounded mb-2">PELÍCULAS</span>
                                <h4 class="font-medium mb-2">Frases de Películas Famosas</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Aprende expresiones icónicas de películas populares en inglés.</p>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-xs text-gray-500 mr-3"><i class="far fa-clock mr-1"></i> 7 min</span>
                                        <span class="text-xs text-gray-500"><i class="far fa-user mr-1"></i> 3.8k estudiantes</span>
                                    </div>
                                    <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                        Empezar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex items-center mb-2">
                                    <span class="inline-block px-2 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 text-xs font-semibold rounded">GRAMÁTICA</span>
                                    <span class="ml-2 vip-badge">VIP</span>
                                </div>
                                <h4 class="font-medium mb-2">Falsos Amigos</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Evita estos errores comunes entre español e inglés.</p>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-xs text-gray-500 mr-3"><i class="far fa-clock mr-1"></i> 6 min</span>
                                        <span class="text-xs text-gray-500"><i class="far fa-user mr-1"></i> 1.9k estudiantes</span>
                                    </div>
                                    <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-lock mr-1"></i> Desbloquear
                                    </button>
                                </div>
                            </div>
                            
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <span class="inline-block px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs font-semibold rounded mb-2">PRONUNCIACIÓN</span>
                                <h4 class="font-medium mb-2">Pronunciación Perfecta</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Domina los sonidos más difíciles del inglés para hispanohablantes.</p>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-xs text-gray-500 mr-3"><i class="far fa-clock mr-1"></i> 8 min</span>
                                        <span class="text-xs text-gray-500"><i class="far fa-user mr-1"></i> 5.2k estudiantes</span>
                                    </div>
                                    <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                        Empezar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="lesson-card bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <span class="inline-block px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs font-semibold rounded mb-2">EMERGENCIAS</span>
                                <h4 class="font-medium mb-2">Inglés de Emergencia</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Frases esenciales para situaciones de emergencia cuando viajas.</p>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-xs text-gray-500 mr-3"><i class="far fa-clock mr-1"></i> 5 min</span>
                                        <span class="text-xs text-gray-500"><i class="far fa-user mr-1"></i> 4.1k estudiantes</span>
                                    </div>
                                    <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                        Empezar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                appContent.innerHTML = content;
                
                // Add lesson interactivity
                document.getElementById('vocabularyLesson').addEventListener('click', function(e) {
                    if (e.target.tagName !== 'BUTTON') {
                        loadVocabularyLesson();
                    }
                });
                
                document.querySelector('#vocabularyLesson button').addEventListener('click', function() {
                    loadVocabularyLesson();
                });
                
                // Make category tabs interactive
                document.querySelectorAll('.category-tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('.category-tab').forEach(t => {
                            t.classList.remove('border-primary');
                        });
                        this.classList.add('border-primary');
                    });
                });
            }
            
            // Vocabulary lesson interactive content
            function loadVocabularyLesson() {
                showLoading('Cargando lección...');
                
                const content = `
                    <div class="mb-4">
                        <button class="flex items-center text-primary mb-4" id="backToLessons">
                            <i class="fas fa-arrow-left mr-2"></i> Volver a lecciones
                        </button>
                        <h2 class="text-2xl font-heading font-bold">¿Cuántas Palabras Conoces?</h2>
                        <p class="text-gray-600 dark:text-gray-400">Aprende vocabulario esencial para viajeros.</p>
                    </div>
                    
                    <div class="progress-container mb-5">
                        <div class="progress-bar" style="width: 20%"></div>
                    </div>
                    
                    <div class="swipe-container bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-5">
                        <div class="swipe-cards">
                            <div class="swipe-card text-center">
                                <p class="text-sm text-gray-500 mb-2">Palabra 1/10</p>
                                <div class="mb-4 h-48 flex items-center justify-center">
                                    <div class="text-center">
                                        <img src="https://pfst.cf2.poecdn.net/1024-placeholder-travel.svg" alt="Placeholder" class="max-h-32 mx-auto mb-2">
                                        <h3 class="text-2xl font-bold mb-1">Passport</h3>
                                        <p class="text-lg text-primary">[ˈpæspɔːrt]</p>
                                    </div>
                                </div>
                                <button class="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-full text-sm mr-2">
                                    <i class="fas fa-volume-up mr-1"></i> Escuchar
                                </button>
                                <div class="flex justify-between mt-4">
                                    <button class="text-sm text-gray-500">
                                        <i class="fas fa-times mr-1"></i> No reconozco
                                    </button>
                                    <button class="text-sm text-primary">
                                        <i class="fas fa-check mr-1"></i> Reconozco
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-5">
                        <h3 class="font-medium mb-3">Información Adicional</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                            Un <strong>passport</strong> (pasaporte) es un documento oficial que certifica la identidad y nacionalidad de una persona para viajar al extranjero.
                        </p>
                        <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg mb-3">
                            <h4 class="font-medium text-sm mb-2">Ejemplo de uso:</h4>
                            <p class="text-sm italic">
                                "Make sure to keep your <strong>passport</strong> safe when traveling abroad."
                            </p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
                                (Asegúrate de mantener tu pasaporte seguro cuando viajes al extranjero.)
                            </p>
                        </div>
                        <div class="bg-blue-50 dark:bg-blue-900 p-3 rounded-lg">
                            <h4 class="font-medium text-sm mb-2">Consejo de viaje:</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">
                                Siempre lleva una fotocopia de tu pasaporte guardada en un lugar diferente al original en caso de pérdida o robo.
                            </p>
                        </div>
                    </div>
                    
                    <div class="mb-5">
                        <h3 class="font-medium mb-3">¡Practica tu conocimiento!</h3>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                            <p class="mb-3">¿Qué frase es correcta?</p>
                            <div class="space-y-2">
                                <div class="quiz-option border border-gray-200 dark:border-gray-700 p-3 rounded-lg">
                                    <label class="flex items-center">
                                        <input type="radio" name="quiz" class="mr-3">
                                        <span>I have forgotten my passport in the hotel.</span>
                                    </label>
                                </div>
                                <div class="quiz-option border border-gray-200 dark:border-gray-700 p-3 rounded-lg">
                                    <label class="flex items-center">
                                        <input type="radio" name="quiz" class="mr-3">
                                        <span>I have forgotten my passport at the hotel.</span>
                                    </label>
                                </div>
                                <div class="quiz-option border border-gray-200 dark:border-gray-700 p-3 rounded-lg">
                                    <label class="flex items-center">
                                        <input type="radio" name="quiz" class="mr-3">
                                        <span>I have forget my passport in the hotel.</span>
                                    </label>
                                </div>
                            </div>
                            <button class="bg-primary hover:bg-primary-hover text-white px-4 py-2 rounded-lg mt-4 w-full font-medium">
                                Verificar Respuesta
                            </button>
                        </div>
                    </div>
                    
                    <div class="fixed bottom-16 left-0 right-0 p-4 bg-white dark:bg-gray-800 shadow-lg z-10 flex justify-between">
                        <button class="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg">
                            <i class="fas fa-arrow-left mr-1"></i> Anterior
                        </button>
                        <button class="bg-primary hover:bg-primary-hover text-white px-4 py-2 rounded-lg">
                            Siguiente <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                    </div>
                `;
                
                appContent.innerHTML = content;
                
                // Add event listener to back button
                document.getElementById('backToLessons').addEventListener('click', function() {
                    loadLearnContent();
                });
                
                // Add interactivity to quiz options
                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.addEventListener('click', function() {
                        // Select the radio button when clicking anywhere on the option
                        const radio = this.querySelector('input[type="radio"]');
                        radio.checked = true;
                    });
                });
                
                setTimeout(() => {
                    hideLoading();
                }, 500);
            }

            // Practice tab content
            function loadPracticeContent() {
                const content = `
                    <div class="mb-5 animate-on-load">
                        <h2 class="text-2xl font-heading font-bold mb-4">Práctica de Pronunciación</h2>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">Perfecciona tu pronunciación con estos ejercicios interactivos.</p>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <h3 class="text-lg font-heading font-semibold mb-3">Desafíos de Sonidos</h3>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex justify-between items-center mb-3">
                                    <div>
                                        <span class="inline-block px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-semibold rounded">NIVEL 1</span>
                                        <h4 class="font-medium mt-1">El Sonido "TH"</h4>
                                    </div>
                                    <span class="text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">73% completado</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Practica este sonido que no existe en español con palabras comunes.</p>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Think
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Three
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Thumb
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Thirsty
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Thousand
                                    </div>
                                </div>
                                <button class="bg-primary hover:bg-primary-hover text-white w-full py-2 rounded font-medium">
                                    Practicar Ahora
                                </button>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex justify-between items-center mb-3">
                                    <div>
                                        <span class="inline-block px-2 py-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-xs font-semibold rounded">NIVEL 2</span>
                                        <h4 class="font-medium mt-1">Diferencia entre "B" y "V"</h4>
                                    </div>
                                    <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded">35% completado</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Aprende a diferenciar estos sonidos que suenan similares en español.</p>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Berry vs. Very
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Boat vs. Vote
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Ban vs. Van
                                    </div>
                                </div>
                                <button class="bg-primary hover:bg-primary-hover text-white w-full py-2 rounded font-medium">
                                    Continuar Práctica
                                </button>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 relative overflow-hidden">
                                <div class="absolute top-0 right-0 p-2">
                                    <span class="vip-badge">VIP</span>
                                </div>
                                <div class="flex justify-between items-center mb-3">
                                    <div>
                                        <span class="inline-block px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs font-semibold rounded">NIVEL 3</span>
                                        <h4 class="font-medium mt-1">El Sonido "R" Americano</h4>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Domina la pronunciación de la "r" americana, muy diferente a la española.</p>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center opacity-60">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Right
                                    </div>
                                    <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm flex items-center opacity-60">
                                        <button class="mr-2 text-gray-600 dark:text-gray-300">
                                            <i class="fas fa-volume-up"></i>
                                        </button>
                                        Orange
                                    </div>
                                </div>
                                <button class="bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 w-full py-2 rounded font-medium">
                                    <i class="fas fa-lock mr-1"></i> Contenido Exclusivo
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Grabar y Comparar</h3>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Graba tu pronunciación y compárala con un hablante nativo.</p>
                            
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg mb-4">
                                <h4 class="font-medium mb-2">Frase a practicar:</h4>
                                <p class="text-center text-lg font-bold mb-3">"The weather is perfect for a day at the beach."</p>
                                <button class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-full text-sm w-full mb-3">
                                    <i class="fas fa-volume-up mr-1"></i> Escuchar Modelo
                                </button>
                                <button class="bg-secondary hover:bg-secondary-hover text-white px-4 py-2 rounded-full text-sm w-full">
                                    <i class="fas fa-microphone mr-1"></i> Iniciar Grabación
                                </button>
                            </div>
                            
                            <p class="text-xs text-gray-500 text-center"><i class="fas fa-info-circle mr-1"></i> Se requiere permiso para acceder al micrófono</p>
                        </div>
                    </div>
                    
                    <div class="mb-5 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Trabalenguas</h3>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Practica estos trabalenguas populares para mejorar tu fluidez.</p>
                            <div class="space-y-3">
                                <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg">
                                    <p class="font-medium mb-2">Nivel: Fácil</p>
                                    <p class="italic mb-2">"She sells seashells by the seashore."</p>
                                    <button class="text-primary text-sm">
                                        <i class="fas fa-volume-up mr-1"></i> Escuchar
                                    </button>
                                </div>
                                <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg">
                                    <p class="font-medium mb-2">Nivel: Medio</p>
                                    <p class="italic mb-2">"How much wood would a woodchuck chuck if a woodchuck could chuck wood?"</p>
                                    <button class="text-primary text-sm">
                                        <i class="fas fa-volume-up mr-1"></i> Escuchar
                                    </button>
                                </div>
                                <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg">
                                    <p class="font-medium mb-2">Nivel: Difícil</p>
                                    <p class="italic mb-2">"Peter Piper picked a peck of pickled peppers. A peck of pickled peppers Peter Piper picked."</p>
                                    <button class="text-primary text-sm">
                                        <i class="fas fa-volume-up mr-1"></i> Escuchar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                appContent.innerHTML = content;
            }

            // Community tab content
            function loadCommunityContent() {
                const content = `
                    <div class="mb-5 animate-on-load">
                        <h2 class="text-2xl font-heading font-bold mb-4">Comunidad</h2>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">Conecta con otros estudiantes y practica juntos.</p>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="bg-gradient-to-r from-primary to-purple-600 text-white rounded-lg p-4 mb-5">
                            <h3 class="font-medium mb-2">Reto Semanal</h3>
                            <p class="text-sm mb-3">Comparte un video pronunciando este trabalenguas correctamente y gana insignias.</p>
                            <div class="bg-white/20 p-3 rounded-lg mb-3">
                                <p class="font-medium text-center">"She sells seashells by the seashore."</p>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs opacity-80"><i class="fas fa-users mr-1"></i> 356 participantes</span>
                                <button class="bg-white text-primary hover:bg-gray-100 font-medium rounded-full px-4 py-1 text-sm">
                                    Participar
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Tabla de Líderes</h3>
                            <select class="text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded py-1 px-2">
                                <option>Esta semana</option>
                                <option>Este mes</option>
                                <option>Todos los tiempos</option>
                            </select>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
                            <div class="p-4 bg-primary text-white flex items-center">
                                <div class="w-8 mr-3 text-center font-bold">#</div>
                                <div class="flex-1 font-medium">Usuario</div>
                                <div class="w-16 text-center font-medium">Puntos</div>
                            </div>
                            <div class="divide-y divide-gray-200 dark:divide-gray-700">
                                <div class="p-4 flex items-center bg-yellow-50 dark:bg-yellow-900/20">
                                    <div class="w-8 mr-3 text-center font-bold text-yellow-500">1</div>
                                    <div class="flex-1 flex items-center">
                                        <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white mr-2">
                                            M
                                        </div>
                                        <span>MariaG</span>
                                        <span class="ml-2 bg-yellow-200 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200 text-xs px-2 py-1 rounded-full">Campeón</span>
                                    </div>
                                    <div class="w-16 text-center font-bold">1,245</div>
                                </div>
                                <div class="p-4 flex items-center bg-gray-50 dark:bg-white/5">
                                    <div class="w-8 mr-3 text-center font-bold text-gray-400">2</div>
                                    <div class="flex-1 flex items-center">
                                        <div class="w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center text-white mr-2">
                                            J
                                        </div>
                                        <span>JuanC</span>
                                        <span class="ml-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full">Experto</span>
                                    </div>
                                    <div class="w-16 text-center font-bold">987</div>
                                </div>
                                <div class="p-4 flex items-center bg-gray-50 dark:bg-white/5">
                                    <div class="w-8 mr-3 text-center font-bold text-orange-400">3</div>
                                    <div class="flex-1 flex items-center">
                                        <div class="w-8 h-8 bg-orange-400 rounded-full flex items-center justify-center text-white mr-2">
                                            A
                                        </div>
                                        <span>Ana23</span>
                                    </div>
                                    <div class="w-16 text-center font-bold">856</div>
                                </div>
                                <div class="p-4 flex items-center">
                                    <div class="w-8 mr-3 text-center font-medium">4</div>
                                    <div class="flex-1 flex items-center">
                                        <div class="w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mr-2">
                                            P
                                        </div>
                                        <span>Pedro87</span>
                                    </div>
                                    <div class="w-16 text-center font-bold">742</div>
                                </div>
                                <div class="p-4 flex items-center">
                                    <div class="w-8 mr-3 text-center font-medium">5</div>
                                    <div class="flex-1 flex items-center">
                                        <div class="w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mr-2">
                                            L
                                        </div>
                                        <span>Laura_ES</span>
                                    </div>
                                    <div class="w-16 text-center font-bold">689</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Comunidad VIP</h3>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-24 h-24">
                                <div class="absolute transform rotate-45 bg-accent text-dark text-xs font-bold text-center py-1 right-[-35px] top-[20px] w-[170px]">
                                    EXCLUSIVO
                                </div>
                            </div>
                            <h4 class="font-medium mb-3">Grupo Privado de Práctica</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                Únete a nuestras sesiones privadas de conversación, recibe feedback personalizado y conecta con estudiantes de tu mismo nivel.
                            </p>
                            <div class="flex flex-wrap gap-3 mb-4">
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-xs">
                                    <i class="fas fa-users mr-1"></i> 120 miembros
                                </div>
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-xs">
                                    <i class="fas fa-video mr-1"></i> Sesiones semanales
                                </div>
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-xs">
                                    <i class="fas fa-comment-dots mr-1"></i> Chat 24/7
                                </div>
                            </div>
                            <button id="showVipSubscription" class="bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-white px-4 py-2 rounded-lg text-sm w-full">
                                Únete al Club VIP
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-5 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Logros Recientes</h3>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
                            <div class="p-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                                    ¡Celebra los logros de nuestra comunidad!
                                </p>
                                <div class="divide-y divide-gray-200 dark:divide-gray-700">
                                    <div class="py-3">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 rounded-full flex items-center justify-center mr-3">
                                                <i class="fas fa-trophy"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">MariaG completó 30 días de estudio consecutivos</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Hace 2 horas</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="py-3">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300 rounded-full flex items-center justify-center mr-3">
                                                <i class="fas fa-award"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">JuanC alcanzó el nivel Avanzado en pronunciación</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Hace 5 horas</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="py-3">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center mr-3">
                                                <i class="fas fa-graduation-cap"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">Ana23 completó todas las lecciones de Falsos Amigos</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Hace 1 día</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                appContent.innerHTML = content;
                
                // Add event listener for VIP subscription button
                document.getElementById('showVipSubscription').addEventListener('click', function() {
                    document.getElementById('subscriptionModal').classList.remove('hidden');
                });
            }

            // Store tab content
            function loadStoreContent() {
                const content = `
                    <div class="mb-5 animate-on-load">
                        <h2 class="text-2xl font-heading font-bold mb-4">Recursos de Aprendizaje</h2>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">Materiales premium para acelerar tu aprendizaje del inglés.</p>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-6">
                            <div class="flex overflow-x-auto" id="storeCategoryTabs">
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium border-b-2 border-primary">Todos</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Guías PDF</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Audio</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Workbooks</button>
                                <button class="category-tab flex-shrink-0 px-4 py-3 font-medium">Packs</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="mb-5">
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-heading font-semibold">Bestsellers</h3>
                                <a href="#" class="text-primary text-sm">Ver todos</a>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
                                    <div class="aspect-w-16 aspect-h-9 bg-gray-100 dark:bg-gray-700">
                                        <div class="flex items-center justify-center h-full bg-accent text-dark p-4">
                                            <div class="text-center">
                                                <i class="fas fa-plane-departure text-4xl mb-2"></i>
                                                <h3 class="font-heading font-bold">Travel English Guide</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h4 class="font-medium">Guía de Viaje en Inglés</h4>
                                            <span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs px-2 py-1 rounded">Bestseller</span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Frases esenciales para hispanohablantes viajando a países de habla inglesa.</p>
                                        <div class="flex justify-between items-center">
                                            <div class="flex items-center">
                                                <span class="font-bold text-primary text-xl">$9.99</span>
                                                <span class="text-gray-500 line-through ml-2 text-sm">$14.99</span>
                                            </div>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                                Añadir al Carrito
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
                                    <div class="aspect-w-16 aspect-h-9 bg-gray-100 dark:bg-gray-700">
                                        <div class="flex items-center justify-center h-full bg-secondary text-white p-4">
                                            <div class="text-center">
                                                <i class="fas fa-film text-4xl mb-2"></i>
                                                <h3 class="font-heading font-bold">Movie English Collection</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h4 class="font-medium">Colección de Inglés en Películas</h4>
                                            <span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded">Top Rated</span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">100+ expresiones de películas populares con contexto y ejemplos.</p>
                                        <div class="flex justify-between items-center">
                                            <div class="flex items-center">
                                                <span class="font-bold text-primary text-xl">$14.99</span>
                                                <span class="text-gray-500 line-through ml-2 text-sm">$19.99</span>
                                            </div>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm">
                                                Añadir al Carrito
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Guías PDF</h3>
                            <a href="#" class="text-primary text-sm">Ver todos</a>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-primary rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-microphone-alt text-white text-xl"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-medium mb-1">Guía de Pronunciación</h4>
                                        <p class="text-xs text-gray-500 mb-2">Ejercicios específicos para hispanohablantes</p>
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-primary">$12.99</span>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-xs">
                                                Comprar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-purple-500 rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-briefcase text-white text-xl"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-medium mb-1">Inglés para Negocios</h4>
                                        <p class="text-xs text-gray-500 mb-2">Frases esenciales para el entorno laboral</p>
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-primary">$15.99</span>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-xs">
                                                Comprar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-green-500 rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-utensils text-white text-xl"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-medium mb-1">Inglés para Restaurantes</h4>
                                        <p class="text-xs text-gray-500 mb-2">Cómo ordenar comida y entender menús</p>
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-primary">$7.99</span>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-xs">
                                                Comprar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                                <div class="flex">
                                    <div class="bg-red-500 rounded w-16 h-16 flex items-center justify-center mr-3">
                                        <i class="fas fa-heartbeat text-white text-xl"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-medium mb-1">Inglés Médico</h4>
                                        <p class="text-xs text-gray-500 mb-2">Comunicación en situaciones médicas</p>
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-primary">$11.99</span>
                                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-xs">
                                                Comprar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6 animate-on-load">
                        <div class="bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-5 text-center">
                            <h3 class="font-heading font-bold text-xl mb-2">Pack Completo</h3>
                            <p class="mb-4">Todas nuestras guías y recursos en un solo lugar. ¡Ahorra más del 50%!</p>
                            <div class="flex items-center justify-center mb-4">
                                <span class="text-3xl font-bold">$49.99</span>
                                <span class="text-lg line-through ml-3 opacity-80">$104.99</span>
                            </div>
                            <button class="bg-white text-primary hover:bg-gray-100 px-6 py-2 rounded-lg font-medium transition">
                                Ver Detalles
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-5 animate-on-load">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-heading font-semibold">Recurso Gratuito</h3>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                            <h4 class="font-medium mb-2">10 Frases Esenciales para Viajeros</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Descarga gratis este PDF con 10 frases esenciales que todo viajero debe conocer.</p>
                            <button class="bg-primary hover:bg-primary-hover text-white px-4 py-2 rounded-lg w-full font-medium">
                                Descargar Gratis
                            </button>
                        </div>
                    </div>
                `;
                
                appContent.innerHTML = content;
                
                // Make store category tabs interactive
                document.querySelectorAll('#storeCategoryTabs .category-tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('#storeCategoryTabs .category-tab').forEach(t => {
                            t.classList.remove('border-primary');
                        });
                        this.classList.add('border-primary');
                    });
                });
            }

            // BOT INTEGRATION FUNCTIONS

            // Function to handle Claude-3.7-Sonnet responses for text content
            const callClaudeSonnet = async (prompt, handler) => {
                showLoading('Generando contenido...');
                
                try {
                    // Register handler for bot response if provided
                    if (handler) {
                        window.Poe.registerHandler(handler, (result, context) => {
                            const response = result.responses[0];
                            if (response.status === "error") {
                                hideLoading();
                                console.error("Error from Claude:", response.statusText);
                            } else if (response.status === "complete") {
                                hideLoading();
                                // Handle completed response
                                if (context && context.callback) {
                                    context.callback(response.content);
                                }
                            }
                        });
                    }

                    await window.Poe.sendUserMessage(
                        `@Claude-3.7-Sonnet ${prompt}`,
                        {
                            handler: handler || null,
                            stream: false,
                            openChat: !handler,
                            handlerContext: { callback: context && context.callback }
                        }
                    );
                } catch (err) {
                    hideLoading();
                    console.error("Error calling Claude:", err);
                }
            };

            // Function to call FLUX for image generation
            const generateImage = async (prompt, handler) => {
                showLoading('Generando imagen...');
                
                try {
                    // Register handler for image response
                    window.Poe.registerHandler(handler, (result) => {
                        const response = result.responses[0];
                        
                        if (response.status === "error") {
                            hideLoading();
                            console.error("Error from FLUX:", response.statusText);
                        } else if (response.status === "complete") {
                            hideLoading();
                            // Get image attachment if available
                            if (response.attachments && response.attachments.length > 0) {
                                const imageUrl = response.attachments[0].url;
                                document.getElementById('generatedImage').src = imageUrl;
                                document.getElementById('imageContainer').style.display = 'block';
                            } else {
                                document.getElementById('imageOutput').textContent = "No se pudo generar la imagen.";
                            }
                        }
                    });

                    await window.Poe.sendUserMessage(
                        `@FLUX-pro-1.1 ${prompt}`,
                        {
                            handler: handler,
                            stream: false,
                            openChat: false
                        }
                    );
                } catch (err) {
                    hideLoading();
                    console.error("Error generating image:", err);
                    document.getElementById('imageOutput').textContent = `Error: ${err.message}`;
                }
            };

            // Simulate BOT Generation for text-to-speech
            const generateSpeech = async (text, voiceName = "Monika Sogam") => {
                showLoading('Generando audio...');
                
                try {
                    const handlerId = "speech-handler-" + Date.now();
                    
                    window.Poe.registerHandler(handlerId, (result) => {
                        const response = result.responses[0];
                        
                        if (response.status === "error") {
                            hideLoading();
                            console.error("Error from ElevenLabs:", response.statusText);
                        } else if (response.status === "complete") {
                            hideLoading();
                            // Handle audio attachment
                            if (response.attachments && response.attachments.length > 0) {
                                const audioUrl = response.attachments[0].url;
                                // Play audio or update UI with audio element
                                const audioElement = document.createElement('audio');
                                audioElement.controls = true;
                                audioElement.src = audioUrl;
                                audioElement.style.width = '100%';
                                audioElement.style.marginTop = '1rem';
                                
                                // Here you would add this audio element to the appropriate place in your UI
                                // For example: document.getElementById('audioContainer').appendChild(audioElement);
                            }
                        }
                    });

                    await window.Poe.sendUserMessage(
                        `@ElevenLabs ${text} --voice ${voiceName}`,
                        {
                            handler: handlerId,
                            stream: false,
                            openChat: false
                        }
                    );
                } catch (err) {
                    hideLoading();
                    console.error("Error generating speech:", err);
                }
            };

            // Initialize the app by loading home tab content
            loadHomeContent();
        });
    </script>


</body></html>